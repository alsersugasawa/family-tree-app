# Database Configuration
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/familytree

# Backup Configuration
# Primary backup directory (local disk)
# For Docker: Use /app/backups (default) or mount external volume to /data/backups
BACKUP_DIR=/app/backups

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# SMB/CIFS File Share Configuration (optional)
SMB_BACKUP_ENABLED=false
SMB_HOST=your-smb-server.local
SMB_SHARE=backups
SMB_USERNAME=backup_user
SMB_PASSWORD=your_secure_password
SMB_MOUNT_POINT=/mnt/smb_backups

# NFS File Share Configuration (optional)
NFS_BACKUP_ENABLED=false
NFS_HOST=your-nfs-server.local
NFS_EXPORT=/exports/backups
NFS_MOUNT_POINT=/mnt/nfs_backups

# Security (CRITICAL: Change these in production!)
# Generate SECRET_KEY with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-this-in-production

# Session Management (ISO 27001 A.9.4.2, NIST SP 800-53 AC-12)
ACCESS_TOKEN_EXPIRE_MINUTES=30
SESSION_TIMEOUT_MINUTES=30
ABSOLUTE_SESSION_TIMEOUT_HOURS=8

# Password Policy (OWASP ASVS 2.1.1-9, NIST SP 800-53 IA-5)
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_MAX_AGE_DAYS=90

# Rate Limiting (NIST SP 800-53 SC-5, OWASP ASVS 2.2.1)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
LOGIN_RATE_LIMIT=5
LOGIN_RATE_WINDOW=300

# CORS Configuration (OWASP ASVS 14.5.3, NIST SP 800-53 AC-4)
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:8080,http://127.0.0.1:8080

# Trusted Hosts (OWASP ASVS 14.4.4)
# Comma-separated list of trusted hostnames
TRUSTED_HOSTS=localhost,127.0.0.1,*.localhost

# Security Headers (OWASP ASVS 14.4.1-7, NIST SP 800-53 SC-8)
SECURITY_HEADERS_ENABLED=true
CSP_POLICY=default-src 'self'; script-src 'self' https://cdn.jsdelivr.net https://d3js.org https://cdnjs.cloudflare.com 'unsafe-inline'; style-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' https://cdn.jsdelivr.net; connect-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; frame-ancestors 'none';

# File Upload Security (OWASP ASVS 12.1.1-3, NIST SP 800-53 SI-10)
MAX_FILE_SIZE=5242880

# Environment
ENVIRONMENT=development
